<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div style="display:flex;gap:8px;justify-content:space-between;align-items:center;margin-bottom:8px">
    <div style="font-weight:600">Toxic â†’ Detoxified (<span id="changedCount">0</span>)</div>
    <div>
      <button class="clear-btn" id="rescan">Rescan page</button>
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th style="width: 50%; background-color: #ffecec;">Original (Toxic)</th>
        <th style="width: 50%; background-color: #e6ffed;">Detoxified (Attempts / Error)</th>
      </tr>
    </thead>
    <tbody id="detoxTableBody"></tbody>
  </table>

  <div id="scanStatus" style="margin-bottom:8px;font-size:14px;color:#555;"></div>
  <div id="detox-results-panel" style="position:relative;width:100%;max-height:220px;overflow:auto;background:rgba(255,255,255,0.95);border:1px solid rgba(0,0,0,0.12);border-radius:8px;padding:8px;z-index:10;font-size:12px;box-shadow:0 6px 18px rgba(0,0,0,0.12);">
    <div style="font-weight:600;margin-bottom:6px;">Detox Results</div>
    <div style="display:flex;gap:8px;">
      <div style="flex:1;">
        <div style="background:#e6ffed;padding:4px;border-radius:4px;margin-bottom:4px;">Captured (unchanged)</div>
        <div id="detox-captured-list" style="display:flex;flex-direction:column;gap:6px;"></div>
      </div>
      <div style="flex:1;">
        <div style="background:#ffecec;padding:4px;border-radius:4px;margin-bottom:4px;">Changed (before => after)</div>
        <div id="detox-changed-list" style="display:flex;flex-direction:column;gap:6px;"></div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>